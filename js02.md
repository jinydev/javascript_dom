# 자바스크립트 데이터 구조

자바스크립트는 다양한 형태의 데이터를 저장할 수 있습니다.

![image-20230505145437037](D:\poly\javascript_dom\img\image-20230505145437037.png)



var를 통하여 변수를 선언하고 값을 저장합니다. 또한, 데이터의 형식을 구분하지 않습니다.

```js
var a=3;
var b=2.14;
var c='a';
var d='hello';
```



## 참조변수

일반적으로 C언어 같은 언어는 변수의 크기를 지정하는 `한정사`를 같이 이용하여 선언합니다. 

```c
int x = 3;
```



![image-20230505150610751](D:\poly\javascript_dom\img\image-20230505150610751.png)

하지만 자바스크립트는 var를 통하여 공간을 선언하지만, 바로 메모리 공간을 생성하지 않습니다. 자바스크립트의 변수의 실제는 `참조변수`입니다.

```js
var x =3;
```



### 오토박싱

자바스크립트 변수에 값이 할당되는 `순간` 자바스크립트는 `오토박싱`을 과정을 통하여 자체적으로 공간을 생성하고, 이를 `참조`하는 값을 변수에 대입합니다.

> 오토박싱이란? 
>
> JavaScript에서 auto boxing은 기본 데이터 유형(예: 숫자, 문자열 및 부울)을 해당 객체 래퍼 유형(숫자, 문자열 및 부울)으로 `자동 변환`하는 메커니즘입니다. 
>
> JavaScript는 기본 값을 객체가 아닌 `값`으로 취급하기 때문에 기본 값의 속성이나 메서드에 액세스하려고 할 때 발생하지만 때로는 객체 유형에만 존재하는 메서드나 속성을 사용해야 할 수도 있습니다. 예를 들어, 숫자에 `toFixed()` 메서드를 사용하여 특정 소수 자릿수로 서식을 지정할 수 있습니다.
>
> ```js
> let num = 5;
> let formattedNum = num.toFixed(2);
> console.log(formattedNum); // "5.00"
> ```
>
> 이 경우 `toFixed()`는 `Number` 객체에만 존재하는 메서드이므로 JavaScript는 auto boxing을 사용하여 기본 `num` 값을 `Number` 객체로 자동 변환합니다.
>
> 마찬가지로 문자열 또는 부울(boolean) 프리미티브 값의 속성이나 메서드에 액세스하려고 하면 자동 박싱이 이를 각각 `String` 또는 `Boolean` 객체로 변환합니다.
>
> auto boxing은 `필요한 경우에만 발생`하고 특정 상황에서 성능에 영향을 줄 수 있으므로 일반적으로 필요할 때 객체 래퍼 유형을 명시적으로 생성하여 `불필요한 auto boxing을 피하는 것이 좋습니다`.



자바스크립트는 오토박싱으로 값이 객체로 자동으로 변환되는 메커니즘을 통하여 자바스크립트의 변수는 객체의 `참조값`을 가지게 됩니다.

> 포인터와 참조의 차이? 
>
> JavaScript에서 변수는 기본 값(예: 숫자, 문자열, 부울, null 및 정의되지 않음)과 객체 값(예: 배열, 함수 및 객체)을 모두 보유할 수 있습니다. 변수가 기본 값을 보유하는 경우 실제 값을 저장합니다. 변수가 개체 값을 보유하면 개체에 대한 참조를 메모리에 저장합니다. 객체 값을 포함하는 변수들만을 참조 변수로 사용합니다.
>
> JavaScript의 참조 변수와 C 언어의 포인터의 차이점은 객체에 대한 메모리 주소를 저장한다는 점에서 개념이 유사합니다. 그러나 몇 가지 주요 차이점이 있습니다.
>
> 1. 구문: C에서 포인터는 `*` 연산자를 사용하여 명시적으로 선언되며 메모리 할당 및 할당 해제는 일반적으로 `수동`으로 수행됩니다. JavaScript에서 참조 변수는 객체가 생성될 때 `자동`으로 생성되며 메모리 관리는 `가비지 수집기`에 의해 자동으로 수행됩니다.
> 2. 유형 안전성: C에서 포인터 산술은 메모리 주소의 낮은 수준 조작을 허용하므로 주의해서 사용하지 않으면 안전하지 않고 예측할 수 없는 동작이 발생할 수 있습니다. JavaScript에서 참조 변수는 `저수준이 아니며 포인터 산술 연산`이 없습니다.
> 3. 유연성: C에서는 포인터를 사용하여 복잡한 데이터 구조와 알고리즘을 효율적으로 구현할 수 있습니다. JavaScript에서 참조 변수는 일반적으로 `객체와 배열을 조작하는 데 사용`되지만 언어는 저수준 메모리 조작 없이 사용할 수 있는 고수준 데이터 구조와 알고리즘을 제공합니다.
>
> JavaScript의 참조 변수와 C의 포인터는 모두 메모리 주소를 저장하는 데 사용되지만 구문, 유형 `안전성` 및 `유연성`이 다릅니다.

따라서, 자바스크립트의 대부분의 변수들은 객체를 래핑한 레퍼 클래스들 입니다.

![image-20230505152116890](D:\poly\javascript_dom\img\image-20230505152116890.png)



```js
var x = 3;

var y = new Number(3);

console.log(x+y); // 정상적으로 연산이 수행됩니다.
```



## undefind

변수를 선언하고 아무런 참조값을 가지지 않는 변수는 기본적으로  `undefined` 값을 가지게 됩니다.  

> undefined?
>
> 다른 언어에서는 `undefined`를 `null pointer`라는 표현을 사용하기도 합니다. JavaScript의 'undefined'과 C 언어의 `null pointer`는 둘 다 값이 없거나 유효하지 않은 메모리 참조를 나타낸다는 점에서 비슷하지만 몇 가지 면에서 다릅니다. 
>
> 1. 유형: `undefined`은 JavaScript의 데이터 유형인 반면 null pointer는 유효한 메모리 위치를 가리키지 않는 포인터를 참조하는 C의 개념입니다.
> 2. 사용법: `undefined`은 일반적으로 JavaScript에서 선언되었지만 초기화되지 않은 변수를 나타내거나 속성 또는 값이 존재하지 않음을 나타내는 데 사용됩니다. C에서 null 포인터는 일반적으로 초기화되지 않았거나 명시적으로 NULL로 설정되었기 때문에 유효한 메모리 위치를 가리키지 않는 포인터를 나타내는 데 사용됩니다.
> 3. 안전성: JavaScript에서 `정의되지 않음`은 정의된 값이며 언어는 `typeof` 연산자 및 null/undefined 검사와 같이 코드가 정의되지 않은 값에 액세스하지 못하도록 `보호 장치`를 제공합니다. C에서 null 포인터는 부적절하게 액세스할 경우 분할 오류를 일으킬 수 있으므로 사용하기에 반드시 안전한 것은 아닙니다.
> 4. 표현: JavaScript에서 `undefined`는 전역 `undefined` 변수로 표현되는 기본 값입니다. C에서 null 포인터는 포인터 변수에서 0 또는 'NULL' 값으로 표시됩니다.



### undefined 비교

자바스크립트는 undefined형태의 자체의 값 으로 가지고 있기 때문에, 문자열 비교가 아닌 undefined로 비교를 해야 합니다.

![image-20230505152748612](D:\poly\javascript_dom\img\image-20230505152748612.png)



## Array



### 스텍 형태의 관리

array 객체는 stack 형태로 데이터 구조로 자료를 관리할 수 있는 메소드를 제공합니다. 스텍을 활용하기 때문에 배열에 `키`를 사용하지 않고도 데이터를 관리 할 수 있습니다.

```js
var nums = mew Array();

nums.push(5);
nums.push(10);
nums.push(15);

var n1 = nums.pop(); //15
var n2 = nums.pop(); //10
var n2 = nums.pop(); //5
```



### List 형태의 관리

```js
var nums = mew Array();

nums[0] = 5;
nums[1] = 10;
nums[2] = 15;

console.log(nums);
```





### 배열 객체 초기화

생성 연산자를 이용하여 객체를 생성할때 초기 인자값을 전달 할 수 있습니다. 인자값에 해당되는 공간을 미리 만들어 지게 됩니다. 이때 생성되는 공간은 참조변수 입니다.

```js
var nums = new Array(5);
```



인자값을 2개 이상의 값을 전달할 때에는 각각의 값이 할당된 배열을 생성합니다.

```js
var nums = new Array(5,10,15);
```



자바스크립트는 다은 종류의 데이터 값도 배열로 선언이 가능합니다.

```js
var nums = new Array(5,10,15, 'hello');
```



또한 배열 안에는 또 다른 배열을 추가할 수도 있습니다.

```js
var nums = new Array(5,10,15, 'hello', new Array(1,2,3) );
```

